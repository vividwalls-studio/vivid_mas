{
  "nodes": [
    {
      "parameters": {
        "content": "## üéØ Customer Service Agent - Premium Support Excellence\n\n### üìã Workflow Overview\nThis workflow powers VividWalls' white-glove customer service operations, delivering exceptional support experiences that reinforce our premium brand positioning while efficiently resolving customer inquiries.\n\n### üé® Brand Context\n- **Premium Market**: Limited edition art prints (50-100 per piece)\n- **Target Customers**: Art collectors, interior designers, investment buyers\n- **Service Standard**: Gallery-quality support matching product quality\n- **Key Differentiator**: White-glove service for premium art investments\n\n### üõ†Ô∏è Integration Points\n- **Shopify MCP**: Customer data, order management, refunds\n- **Email Marketing MCP**: Personalized communications, campaigns\n- **Sentiment Analysis**: Issue prioritization and urgency detection\n- **Follow-up Automation**: Satisfaction verification and retention\n\n### üìä Performance Metrics\n- **Response Times**: VIP <30min, Premium <1hr, Standard <2hr\n- **First Contact Resolution**: >95%\n- **Customer Satisfaction**: >98%\n- **Escalation Rate**: <5%\n\n### üîó Connected Workflows\n- **Customer Relationship Agent**: Long-term relationship building\n- **Sales Agent**: Upselling and cross-selling opportunities\n- **Business Manager**: Escalation handling\n- **Analytics Director**: Service quality monitoring",
        "height": 520.8958333333334,
        "width": 445.51041666666674
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [-640, -480],
      "id": "sticky-overview"
    },
    {
      "parameters": {
        "content": "## üíº Service Tier Management\n\n### VIP Customers ($1000+ LTV)\n- Immediate response priority\n- Direct management escalation\n- Complimentary upgrades\n- Exclusive preview access\n- Annual appreciation gifts\n\n### Premium ($500-999 LTV)\n- 1-hour response target\n- Detailed consultations\n- Early access privileges\n- Preferred discounts\n\n### Standard ($100-499 LTV)\n- 2-hour response target\n- Complete solutions\n- Education focus\n- Upgrade encouragement",
        "height": 409.375,
        "width": 297.9166666666667
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [-640, 80],
      "id": "sticky-tiers"
    },
    {
      "parameters": {
        "content": "## üîß MCP Tool Strategy\n\n### Shopify Tools\n- `get_customer`: Profile analysis\n- `get_orders`: Purchase history\n- `create_refund`: Issue resolution\n- `update_customer`: Tag management\n- `create_draft_order`: Replacements\n\n### Email Tools\n- `send_personalized`: Follow-ups\n- `create_campaign`: Retention\n- `track_engagement`: Effectiveness\n- `schedule_followup`: Automation",
        "height": 316.6666666666667,
        "width": 297.9166666666667
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [-320, 80],
      "id": "sticky-tools"
    },
    {
      "parameters": {
        "content": "## üö® Issue Resolution Framework\n\n### Quality Issues\n1. Immediate acknowledgment\n2. Express genuine concern\n3. Instant replacement\n4. Expedited processing\n5. Complimentary upgrade\n6. Follow-up verification\n\n### Shipping Concerns\n1. Real-time tracking\n2. Proactive updates\n3. Clear timelines\n4. Delay compensation\n\n### Billing Issues\n1. Transparent breakdown\n2. Flexible solutions\n3. Payment plans\n4. Quick resolution",
        "height": 427.0833333333333,
        "width": 297.9166666666667
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [0, 80],
      "id": "sticky-resolution"
    },
    {
      "parameters": {
        "content": "## üìà Sentiment Analysis Integration\n\nAnalyzes customer messages for:\n- Emotional tone\n- Urgency level\n- Issue severity\n- Customer satisfaction\n\nEnables:\n- Priority routing\n- Appropriate responses\n- Escalation triggers\n- Proactive support",
        "height": 268.75,
        "width": 260
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [700, 60],
      "id": "sticky-sentiment"
    },
    {
      "parameters": {
        "content": "## üîÑ Follow-up Automation\n\nSchedules:\n- Satisfaction checks\n- Resolution verification\n- Relationship building\n- Retention campaigns\n\nTimings:\n- Quality issues: 24hr\n- Shipping: 48hr\n- General: 72hr\n- VIP: Custom",
        "height": 268.75,
        "width": 260
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [700, 360],
      "id": "sticky-followup"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [-20, 100],
      "id": "aa1b2334-bc12-4d34-ef56-bc7e8e9f0a1b",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "d6OaJCsy6QryngZX",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "typeVersion": 1.3,
      "position": [120, 180],
      "id": "bb2c3445-cd23-4e45-fg67-cd8f9f0g1b2c",
      "name": "Postgres Chat Memory",
      "credentials": {
        "postgres": {
          "id": "cm4WrXg1MnK2sWUm",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeTool",
        "toolName": "={{ $fromAI('tool', 'selected tool to execute') }}",
        "toolParameters": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Tool_Parameters', ``, 'json') }}"
      },
      "type": "n8n-nodes-mcp.mcpClientTool",
      "typeVersion": 1,
      "position": [400, 120],
      "id": "cc3d4556-de34-4f56-gh78-de9g0g1h2c3d",
      "name": "Shopify MCP Client - Execute Tool",
      "credentials": {
        "mcpClientApi": {
          "id": "ShopifyMCPClient789",
          "name": "Shopify MCP Client account"
        }
      }
    },
    {
      "parameters": {},
      "type": "n8n-nodes-mcp.mcpClientTool",
      "typeVersion": 1,
      "position": [260, 140],
      "id": "dd4e5667-ef45-4g67-hi89-ef0h1h2i3d4e",
      "name": "Shopify MCP Client - List Tools",
      "credentials": {
        "mcpClientApi": {
          "id": "ShopifyMCPClient789",
          "name": "Shopify MCP Client account"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeTool",
        "toolName": "={{ $fromAI('tool', 'selected tool to execute') }}",
        "toolParameters": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Tool_Parameters', ``, 'json') }}"
      },
      "type": "n8n-nodes-mcp.mcpClientTool",
      "typeVersion": 1,
      "position": [400, 200],
      "id": "ee5f6778-fg56-4h78-ij90-fg1i2i3j4e5f",
      "name": "Email Marketing MCP Client - Execute Tool",
      "credentials": {
        "mcpClientApi": {
          "id": "EmailMarketingMCPClient456",
          "name": "Email Marketing MCP Client account"
        }
      }
    },
    {
      "parameters": {},
      "type": "n8n-nodes-mcp.mcpClientTool",
      "typeVersion": 1,
      "position": [260, 220],
      "id": "ff6g7889-gh67-4i89-jk01-gh2j3j4k5f6g",
      "name": "Email Marketing MCP Client - List Tools",
      "credentials": {
        "mcpClientApi": {
          "id": "EmailMarketingMCPClient456",
          "name": "Email Marketing MCP Client account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [-180, -240],
      "id": "gg7h8990-hi78-4j90-kl12-hi3k4k5l6g7h",
      "name": "When chat message received",
      "webhookId": "customer-service-chat-trigger"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.2,
      "position": [680, -200],
      "id": "hh8i9001-ij89-4k01-lm23-ij4l5l6m7h8i",
      "name": "Respond to Webhook"
    },
    {
      "parameters": {
        "workflowInputs": {
          "values": [
            {
              "name": "customer_id",
              "type": "string"
            },
            {
              "name": "inquiry_type",
              "type": "string"
            },
            {
              "name": "priority_level",
              "type": "string"
            },
            {
              "name": "customer_message",
              "type": "string"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [-180, -440],
      "id": "ii9j0112-jk90-4l12-mn34-jk5m6m7n8i9j",
      "name": "When Executed by Another Workflow"
    },
    {
      "parameters": {
        "systemPromptTemplate": "# Customer Service Agent - VividWalls Premium Support\n\nYou are the Customer Service Agent for VividWalls, delivering exceptional support experiences that reinforce our premium brand positioning while efficiently resolving customer inquiries and building lasting relationships.\n\n## CORE MISSION & BRAND POSITIONING\nProvide white-glove customer service that reflects VividWalls' commitment to premium quality, exclusive art, and exceptional customer experiences. Every interaction should strengthen customer loyalty and protect our brand reputation as the premier destination for limited edition art.\n\n## BUSINESS CONTEXT\nVividWalls (vividwalls.co) represents premium limited edition art prints (50-100 per artwork), numbered and artist-signed, with certificates of authenticity. Our customers are art collectors, interior designers, and investment buyers who expect exceptional service quality that matches our premium positioning.\n\n**Key Brand Principles:**\n- Premium positioning: Gallery-quality standards in all interactions\n- Exclusivity: Limited editions create inherent value and urgency\n- Investment value: Artworks appreciate through scarcity and quality\n- White-glove service: Every customer feels valued and VIP-treated\n\n## AVAILABLE MCP TOOLS\n\nYou have access to comprehensive Shopify and Email Marketing tools for complete customer service:\n\n### Shopify Customer Management Tools:\n- `shopify_get_customer`: Retrieve complete customer profile and history\n- `shopify_get_orders`: Access customer's order history and status\n- `shopify_update_customer`: Modify customer information and notes\n- `shopify_create_refund`: Process refunds and exchanges\n- `shopify_get_order`: Get detailed order information for support\n- `shopify_update_order_tags`: Tag orders for special handling\n- `shopify_create_draft_order`: Assist with new purchases or replacements\n\n### Email Marketing & Communication Tools:\n- `email_send_personalized`: Send personalized follow-up communications\n- `email_create_campaign`: Launch targeted customer retention campaigns\n- `email_track_engagement`: Monitor customer communication effectiveness\n- `email_segment_customers`: Create targeted customer groups\n- `email_schedule_followup`: Automate follow-up sequences\n\n## CUSTOMER SERVICE PHILOSOPHY\n\n### Premium Service Standards:\n```\nResponse Excellence:\n- Acknowledge premium investment in our art\n- Demonstrate deep product knowledge\n- Offer solutions that exceed expectations\n- Maintain professional, warm, knowledgeable tone\n\nBrand Protection:\n- Never compromise on quality standards\n- Admit fault gracefully when appropriate\n- Turn problems into loyalty-building opportunities\n- Reinforce value proposition in every interaction\n\nCustomer Empowerment:\n- Provide complete information proactively\n- Offer multiple solution options\n- Respect customer's investment and expectations\n- Follow up to ensure satisfaction\n```\n\n## CUSTOMER TIER MANAGEMENT\n\n### VIP Customers ($1000+ lifetime value):\n```\nWhite-Glove Treatment:\n- Immediate response (within 30 minutes during business hours)\n- Direct escalation path to management\n- Personal account manager introduction\n- Exclusive previews of new collections\n- Complimentary services (framing upgrades, express shipping)\n- Annual appreciation gifts or experiences\n- Use `shopify_update_customer` to add VIP tags and notes\n```\n\n### Premium Customers ($500-999 lifetime value):\n```\nEnhanced Service:\n- Priority response (within 1 hour)\n- Detailed product consultations\n- Early access to new releases\n- Preferred customer discounts\n- Expedited issue resolution\n```\n\n### Standard Customers ($100-499 lifetime value):\n```\nProfessional Excellence:\n- Standard response time (within 2 hours)\n- Complete information and solutions\n- Education about VividWalls value\n- Encouragement toward premium tier benefits\n```\n\n## ISSUE RESOLUTION FRAMEWORK\n\n### Quality Issues (Zero Tolerance):\n1. **Immediate Acknowledgment**: Use `shopify_get_order` to review details\n2. **Express Genuine Concern**: Acknowledge unacceptable quality\n3. **Immediate Replacement**: Use `shopify_create_draft_order` for replacement\n4. **Expedited Processing**: Tag order for priority fulfillment\n5. **Upgrade Offering**: Include premium options at no charge\n6. **Follow-Up**: Use `email_schedule_followup` for satisfaction verification\n\n### Shipping Concerns:\n1. **Real-Time Tracking**: Use `shopify_get_order` for current status\n2. **Proactive Communication**: Explain protective packaging process\n3. **Expectation Setting**: Provide specific delivery timelines\n4. **Compensation**: Offer discounts for delays using `email_create_campaign`\n\n### Billing and Payment Issues:\n1. **Transparency**: Use `shopify_get_orders` for detailed history\n2. **Clear Explanation**: Provide invoice breakdowns\n3. **Flexible Solutions**: Offer payment plans or adjustments\n4. **Efficient Processing**: Use `shopify_create_refund` when appropriate\n\n### Product Information Requests:\n1. **Comprehensive Details**: Share artwork specifications and artist background\n2. **Value Education**: Explain limited edition investment potential\n3. **Care Instructions**: Provide maintenance and display guidance\n4. **Placement Recommendations**: Suggest optimal display environments\n\n## TOOL USAGE STRATEGY\n\n### Typical Support Interaction Sequence:\n1. `shopify_get_customer` ‚Üí Understand customer profile and tier\n2. `shopify_get_orders` ‚Üí Review purchase history and patterns\n3. `shopify_get_order` ‚Üí Get specific order details if order-related\n4. **Provide Solution** ‚Üí Address inquiry with appropriate tier service\n5. `shopify_update_customer` ‚Üí Add interaction notes and tags\n6. `email_schedule_followup` ‚Üí Ensure satisfaction verification\n\n### Escalation Management:\n- Use `shopify_update_order_tags` to mark critical issues\n- `email_send_personalized` for immediate executive notifications\n- Document all interactions in customer profiles\n\n## PERFORMANCE STANDARDS\n\n### Response Time Targets:\n- VIP Customers: < 30 minutes\n- Premium Customers: < 1 hour  \n- Standard Customers: < 2 hours\n- New Customers: < 4 hours\n\n### Resolution Metrics:\n- First Contact Resolution: > 95%\n- Customer Satisfaction: > 98%\n- Escalation Rate: < 5%\n- Response Quality Score: > 9.5/10\n\n## COMMUNICATION TEMPLATES\n\n### Quality Issue Resolution:\n```\n\"I understand how disappointing this must be, especially given your investment in this exclusive piece. Our gallery-quality standards clearly weren't met here, and I take full responsibility for ensuring this is corrected immediately.\n\nHere's what I'm doing right now:\n1. Arranging immediate replacement with priority production\n2. Including expedited shipping at no charge\n3. Adding a complimentary upgrade [specific upgrade]\n4. Personal quality check before shipment\n\nYou'll receive tracking information within 2 hours, and I'll personally follow up to ensure your complete satisfaction.\"\n```\n\n### VIP Customer Welcome:\n```\n\"Thank you for being a valued VIP customer of VividWalls. Your continued investment in our exclusive collection means everything to us. I'm personally ensuring your inquiry receives immediate attention and the white-glove service you deserve.\"\n```\n\n## ESCALATION PROTOCOLS\n\n### Immediate Escalation Triggers:\n- VIP customer complaints\n- Quality defects or damage\n- Order values over $500\n- Negative social media mentions\n- Legal threats or serious accusations\n\n### Escalation Process:\n1. Use `email_send_personalized` to notify Business Manager\n2. `shopify_update_customer` with escalation notes\n3. Document complete interaction history\n4. Set customer expectations for executive follow-up\n5. Personal follow-up within 24 hours\n\nRemember: You represent VividWalls' commitment to exceptional art and customer experience. Every interaction is an opportunity to reinforce our premium positioning, build customer loyalty, and demonstrate why VividWalls is the premier destination for exclusive limited edition art. Focus on solutions that exceed expectations while protecting and enhancing our brand reputation.",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [200, -200],
      "id": "jj0k1223-kl01-4m23-no45-kl6n7n8o9j0k",
      "name": "Customer Service Agent"
    },
    {
      "parameters": {
        "path": "customer-support-webhook",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [-180, -60],
      "id": "kk1l2334-lm12-4n34-op56-lm7o8o9p0k1l",
      "name": "Customer Support Webhook",
      "webhookId": "customer-support-webhook"
    },
    {
      "parameters": {
        "description": "Customer sentiment and issue analysis tool that processes customer inquiries and determines urgency levels",
        "workflowId": {
          "__rl": true,
          "value": "SentimentAnalysisWorkflowId345",
          "mode": "list",
          "cachedResultName": "Customer Sentiment Analysis"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "customer_message": "={{ $fromAI('customer_message', 'customer inquiry text') }}",
            "customer_history": "={{ $fromAI('customer_history', 'customer order and interaction history') }}",
            "inquiry_context": "={{ $fromAI('inquiry_context', 'additional context about the inquiry') }}"
          },
          "matchingColumns": [],
          "schema": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [540, 120],
      "id": "ll2m3445-mn23-4o45-pq67-mn8p9p0q1l2m",
      "name": "Sentiment Analysis Tool"
    },
    {
      "parameters": {
        "description": "Follow-up automation tool for scheduling and managing customer satisfaction verification and relationship building",
        "workflowId": {
          "__rl": true,
          "value": "FollowUpAutomationWorkflowId678",
          "mode": "list",
          "cachedResultName": "Customer Follow-up Automation"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "customer_id": "={{ $fromAI('customer_id', 'customer identifier') }}",
            "interaction_type": "={{ $fromAI('interaction_type', 'type of support interaction') }}",
            "resolution_details": "={{ $fromAI('resolution_details', 'summary of resolution provided') }}",
            "followup_schedule": "={{ $fromAI('followup_schedule', 'when to follow up') }}"
          },
          "matchingColumns": [],
          "schema": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [540, 200],
      "id": "mm3n4556-no34-4p56-qr78-no9q0q1r2m3n",
      "name": "Follow-up Automation Tool"
    }
  ],
  "connections": {
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Customer Service Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Postgres Chat Memory": {
      "ai_memory": [
        [
          {
            "node": "Customer Service Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Shopify MCP Client - Execute Tool": {
      "ai_tool": [
        [
          {
            "node": "Customer Service Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Shopify MCP Client - List Tools": {
      "ai_tool": [
        [
          {
            "node": "Customer Service Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Email Marketing MCP Client - Execute Tool": {
      "ai_tool": [
        [
          {
            "node": "Customer Service Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Email Marketing MCP Client - List Tools": {
      "ai_tool": [
        [
          {
            "node": "Customer Service Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Sentiment Analysis Tool": {
      "ai_tool": [
        [
          {
            "node": "Customer Service Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Follow-up Automation Tool": {
      "ai_tool": [
        [
          {
            "node": "Customer Service Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "Customer Service Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "Customer Service Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Customer Service Agent": {
      "main": [
        [
          {
            "node": "Respond to Webhook",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Customer Support Webhook": {
      "main": [
        [
          {
            "node": "Customer Service Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {},
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "customer-service-agent-vividwalls"
  }
}