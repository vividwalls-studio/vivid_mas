{
  "name": "VividWalls Pictorem Agent",
  "nodes": [
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -20,
        100
      ],
      "id": "d4411941-a3f3-4576-9386-a4557f5b7628",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "d6OaJCsy6QryngZX",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "typeVersion": 1.3,
      "position": [
        120,
        180
      ],
      "id": "5a8c993f-761f-4028-a892-8d3123108510",
      "name": "Postgres Chat Memory",
      "credentials": {
        "postgres": {
          "id": "cm4WrXg1MnK2sWUm",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "content": "# Pictorem Agent Workflow Documentation\n\n## Overview\nThis workflow integrates VividWalls with Pictorem's print-on-demand services, enabling:\n- Automated print production\n- Multiple printing options (canvas, metal, acrylic)\n- Global fulfillment network\n- Quality control tracking\n- White-label shipping\n- Real-time order status\n- Custom packaging options\n- Dropshipping automation\n\n## Workflow Triggers\n1. **Order Fulfillment**: New order print requests\n2. **Product Setup**: Configure print options\n3. **Quality Check**: Monitor print quality\n4. **Shipping Updates**: Track fulfillment status\n5. **Inventory Sync**: Virtual inventory management\n6. **Pricing Updates**: Cost and margin calculations\n7. **Returns Processing**: Handle print issues\n8. **Bulk Operations**: Multiple order processing\n\n## Key Components\n\n### 1. Pictorem MCP Client\n- API integration with Pictorem\n- Order submission and tracking\n- Product configuration\n- Shipping calculations\n- Status monitoring\n\n### 2. Order Processing Tool\n- Validates print specifications\n- Submits to production queue\n- Handles rush orders\n- Manages reprints\n\n### 3. Quality Assurance Tool\n- Tracks quality scores\n- Handles complaints\n- Initiates reprints\n- Monitors satisfaction\n\n### 4. Shipping Manager\n- Multiple carrier options\n- International shipping\n- Tracking integration\n- Customs documentation\n\n## Integration Points\n\n### MCP Servers Used:\n- `pictorem`: Print production API\n- `shopify`: Order source\n- `shipping`: Carrier integration\n- `supabase`: Order tracking\n- `email`: Customer notifications\n\n### Print Options:\n- Canvas (gallery wrap, framed)\n- Metal prints (aluminum)\n- Acrylic prints\n- Paper prints (various finishes)\n- Custom sizes\n- Mounting options\n\n## Features\n- Automatic file optimization\n- Color profile management\n- Print queue prioritization\n- Quality guarantees\n- Blind shipping\n- Custom branding",
        "height": 760,
        "width": 520
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -800,
        -200
      ],
      "typeVersion": 1,
      "id": "workflow-doc-note",
      "name": "Workflow Documentation"
    },
    {
      "parameters": {
        "content": "# Pictorem Agent System Prompt\n\nYou are the Pictorem Agent for VividWalls, managing all print-on-demand operations through Pictorem's global fulfillment network. You ensure high-quality print production, timely fulfillment, and seamless integration with our e-commerce operations.\n\n## Primary Functions\n\n### 1. Order Fulfillment\n- Receive orders from Shopify\n- Validate print specifications\n- Submit to Pictorem queue\n- Track production status\n- Handle special requests\n\n### 2. Product Configuration\n- Set up print options\n- Define size variations\n- Configure pricing tiers\n- Manage substrates\n- Custom finishing options\n\n### 3. Quality Control\n- Monitor print quality\n- Track customer feedback\n- Initiate reprints\n- Manage complaints\n- Ensure standards\n\n### 4. Shipping Management\n- Calculate shipping costs\n- Select optimal carriers\n- Track shipments\n- Handle delays\n- Manage returns\n\n## Print Specifications\n\n### Canvas Prints\n- Gallery wrap standard\n- 1.5\" or 0.75\" depth\n- Matte or gloss coating\n- Hanging hardware included\n- Protective backing\n\n### Metal Prints\n- Aluminum substrate\n- High gloss or matte\n- Float mount available\n- Scratch resistant\n- Waterproof finish\n\n### Acrylic Prints\n- 1/4\" thickness standard\n- Face or reverse mount\n- Polished edges\n- Stand-off mounting\n- UV protection\n\n## Quality Standards\n- Resolution: 300 DPI minimum\n- Color accuracy: Delta E < 2\n- Print longevity: 100+ years\n- Packaging: Museum quality\n- Inspection: 100% visual QC\n\n## Response Format\n```json\n{\n  \"operation\": \"order_submission|status_check|quality_issue\",\n  \"status\": \"success|pending|error\",\n  \"order_details\": {\n    \"pictorem_id\": \"string\",\n    \"production_status\": \"queued|printing|shipping\",\n    \"estimated_completion\": \"date\"\n  },\n  \"tracking\": {\n    \"carrier\": \"string\",\n    \"tracking_number\": \"string\",\n    \"estimated_delivery\": \"date\"\n  }\n}\n```",
        "height": 600,
        "width": 520
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -200,
        -200
      ],
      "typeVersion": 1,
      "id": "system-prompt-note",
      "name": "System Prompt"
    },
    {
      "parameters": {
        "content": "# Trigger: Order Fulfillment\n\n## Source\n- Shopify order webhook\n- Manual submission\n- Bulk order processing\n\n## Input Structure\n```json\n{\n  \"trigger\": \"order_fulfillment\",\n  \"order_data\": {\n    \"shopify_order_id\": \"#1234\",\n    \"customer\": {\n      \"name\": \"Jane Smith\",\n      \"email\": \"customer@example.com\",\n      \"shipping_address\": {\n        \"address1\": \"123 Art Street\",\n        \"city\": \"New York\",\n        \"state\": \"NY\",\n        \"zip\": \"10001\",\n        \"country\": \"US\",\n        \"phone\": \"+1234567890\"\n      }\n    },\n    \"line_items\": [\n      {\n        \"sku\": \"EH-2436-CNV\",\n        \"title\": \"Ethereal Horizons - Canvas Print\",\n        \"variant\": \"24x36 inches\",\n        \"quantity\": 1,\n        \"print_specs\": {\n          \"substrate\": \"canvas\",\n          \"finish\": \"matte\",\n          \"edge\": \"gallery_wrap\",\n          \"depth\": \"1.5_inch\",\n          \"hanging\": \"sawtooth\"\n        },\n        \"image_file\": {\n          \"url\": \"https://cdn.vividwalls.com/print-files/ethereal-horizons-300dpi.tiff\",\n          \"dimensions\": {\n            \"width\": 7200,\n            \"height\": 10800,\n            \"dpi\": 300\n          },\n          \"color_profile\": \"sRGB\"\n        }\n      }\n    ],\n    \"shipping\": {\n      \"method\": \"standard\",\n      \"priority\": \"normal\",\n      \"insurance\": true,\n      \"signature\": false,\n      \"gift_message\": \"Enjoy your new art!\"\n    },\n    \"special_instructions\": {\n      \"quality_check\": \"enhanced\",\n      \"packaging\": \"gift_wrap\",\n      \"include_certificate\": true\n    }\n  }\n}\n```\n\n## Processing Steps\n1. Validate image quality\n2. Check print specifications\n3. Calculate production time\n4. Submit to Pictorem\n5. Receive confirmation\n6. Update order status\n7. Monitor production\n8. Track shipping\n\n## Quality Checks\n- Image resolution ≥300 DPI\n- Color space validated\n- Size within limits\n- File format supported\n- No visible artifacts",
        "height": 820,
        "width": 520
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        400,
        -200
      ],
      "typeVersion": 1,
      "id": "trigger-1-note",
      "name": "Trigger: Order Fulfillment"
    },
    {
      "parameters": {
        "content": "# Trigger: Product Configuration\n\n## Source\n- Product Director Agent\n- New artwork upload\n- Print option updates\n\n## Input Structure\n```json\n{\n  \"trigger\": \"product_configuration\",\n  \"product_id\": \"VW_ART_12345\",\n  \"artwork_details\": {\n    \"title\": \"Cosmic Dreams Abstract\",\n    \"artist\": \"Marcus Rivera\",\n    \"master_file\": {\n      \"url\": \"https://cdn.vividwalls.com/masters/cosmic-dreams-master.tiff\",\n      \"dimensions\": {\n        \"width\": 12000,\n        \"height\": 18000,\n        \"dpi\": 300\n      },\n      \"size_mb\": 125.5,\n      \"color_profile\": \"Adobe RGB\"\n    }\n  },\n  \"print_options\": {\n    \"canvas\": {\n      \"enabled\": true,\n      \"sizes\": [\n        {\"dimensions\": \"16x20\", \"price\": 189.99},\n        {\"dimensions\": \"24x36\", \"price\": 289.99},\n        {\"dimensions\": \"30x40\", \"price\": 389.99},\n        {\"dimensions\": \"40x60\", \"price\": 589.99}\n      ],\n      \"finishes\": [\"matte\", \"satin\", \"gloss\"],\n      \"edge_options\": [\"gallery_wrap\", \"mirrored\", \"solid_color\"],\n      \"frame_options\": [\"none\", \"floater_frame\"]\n    },\n    \"metal\": {\n      \"enabled\": true,\n      \"sizes\": [\n        {\"dimensions\": \"16x20\", \"price\": 249.99},\n        {\"dimensions\": \"24x36\", \"price\": 399.99}\n      ],\n      \"finishes\": [\"glossy\", \"matte\"],\n      \"mounting\": [\"float_mount\", \"inset_frame\"]\n    },\n    \"acrylic\": {\n      \"enabled\": true,\n      \"sizes\": [\n        {\"dimensions\": \"16x20\", \"price\": 299.99},\n        {\"dimensions\": \"24x36\", \"price\": 499.99}\n      ],\n      \"mounting\": [\"face_mount\", \"reverse_mount\"],\n      \"thickness\": [\"1/4_inch\", \"1/8_inch\"]\n    },\n    \"paper\": {\n      \"enabled\": false,\n      \"reason\": \"Premium products only\"\n    }\n  },\n  \"production_settings\": {\n    \"color_correction\": \"auto\",\n    \"sharpening\": \"medium\",\n    \"allow_cropping\": false,\n    \"quality_tier\": \"premium\",\n    \"rush_available\": true\n  }\n}\n```\n\n## Configuration Rules\n1. Maintain aspect ratio\n2. Set margin requirements\n3. Define bleed areas\n4. Specify color profiles\n5. Set quality thresholds\n\n## Pricing Strategy\n- Cost plus markup\n- Size-based tiers\n- Premium substrates\n- Rush order fees\n- Volume discounts",
        "height": 820,
        "width": 520
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1000,
        -200
      ],
      "typeVersion": 1,
      "id": "trigger-2-note",
      "name": "Trigger: Product Configuration"
    },
    {
      "parameters": {
        "content": "# Trigger: Quality Issue\n\n## Source\n- Customer complaint\n- Quality control flag\n- Return request\n- Damage report\n\n## Input Structure\n```json\n{\n  \"trigger\": \"quality_issue\",\n  \"issue_type\": \"print_defect|damage|color_mismatch|size_error\",\n  \"order_details\": {\n    \"shopify_order_id\": \"#1234\",\n    \"pictorem_order_id\": \"PIC_98765\",\n    \"product_sku\": \"EH-2436-CNV\",\n    \"order_date\": \"2024-03-01\",\n    \"customer_id\": \"CUST_5678\"\n  },\n  \"issue_details\": {\n    \"description\": \"Colors appear washed out compared to website\",\n    \"severity\": \"high\",\n    \"images\": [\n      {\n        \"url\": \"https://customer-uploads.com/issue-photo-1.jpg\",\n        \"caption\": \"Actual print received\"\n      },\n      {\n        \"url\": \"https://customer-uploads.com/issue-photo-2.jpg\",\n        \"caption\": \"Expected appearance from website\"\n      }\n    ],\n    \"customer_sentiment\": \"disappointed\",\n    \"requested_resolution\": \"replacement\"\n  },\n  \"quality_assessment\": {\n    \"internal_review\": {\n      \"reviewed_by\": \"QC_Team\",\n      \"findings\": \"Color calibration issue in batch #2345\",\n      \"root_cause\": \"Printer profile mismatch\",\n      \"affected_orders\": 12\n    },\n    \"corrective_action\": {\n      \"immediate\": \"Reprint with correct profile\",\n      \"preventive\": \"Update QC checklist\",\n      \"customer_compensation\": \"Free replacement + 20% discount\"\n    }\n  },\n  \"resolution_timeline\": {\n    \"acknowledgment\": \"immediate\",\n    \"investigation\": \"24_hours\",\n    \"resolution\": \"5_business_days\",\n    \"follow_up\": \"2_weeks\"\n  }\n}\n```\n\n## Resolution Process\n1. Acknowledge issue immediately\n2. Request photos if needed\n3. Investigate root cause\n4. Determine resolution\n5. Process replacement/refund\n6. Update quality controls\n7. Follow up with customer\n8. Track satisfaction\n\n## Common Issues\n- Color variance (∆E > 5)\n- Print alignment errors\n- Canvas stretching issues\n- Shipping damage\n- Size discrepancies\n- Coating defects",
        "height": 820,
        "width": 520
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -800,
        600
      ],
      "typeVersion": 1,
      "id": "trigger-3-note",
      "name": "Trigger: Quality Issue"
    },
    {
      "parameters": {
        "content": "# Trigger: Shipping Updates\n\n## Source\n- Pictorem status webhook\n- Carrier tracking API\n- Customer inquiries\n- Delivery exceptions\n\n## Input Structure\n```json\n{\n  \"trigger\": \"shipping_update\",\n  \"update_type\": \"status_change|delivery|exception|return\",\n  \"shipment_details\": {\n    \"pictorem_order_id\": \"PIC_98765\",\n    \"shopify_order_id\": \"#1234\",\n    \"tracking_number\": \"1Z999AA10123456784\",\n    \"carrier\": \"UPS\",\n    \"service\": \"Ground\",\n    \"ship_date\": \"2024-03-15\",\n    \"estimated_delivery\": \"2024-03-20\"\n  },\n  \"status_updates\": [\n    {\n      \"timestamp\": \"2024-03-15T14:30:00Z\",\n      \"status\": \"shipped\",\n      \"location\": \"Pictorem Facility, CA\",\n      \"details\": \"Package picked up by carrier\"\n    },\n    {\n      \"timestamp\": \"2024-03-17T09:15:00Z\",\n      \"status\": \"in_transit\",\n      \"location\": \"Phoenix, AZ\",\n      \"details\": \"Package in transit\"\n    },\n    {\n      \"timestamp\": \"2024-03-19T16:45:00Z\",\n      \"status\": \"out_for_delivery\",\n      \"location\": \"New York, NY\",\n      \"details\": \"Package out for delivery\"\n    },\n    {\n      \"timestamp\": \"2024-03-19T18:30:00Z\",\n      \"status\": \"exception\",\n      \"location\": \"New York, NY\",\n      \"details\": \"Delivery attempted - recipient not available\",\n      \"exception_type\": \"delivery_attempt_failed\",\n      \"next_action\": \"Will retry next business day\"\n    }\n  ],\n  \"customer_notifications\": {\n    \"email_sent\": true,\n    \"sms_sent\": false,\n    \"in_app_notification\": true,\n    \"tracking_page_views\": 5\n  },\n  \"special_handling\": {\n    \"signature_required\": true,\n    \"insurance_amount\": 500.00,\n    \"delivery_instructions\": \"Leave with doorman\",\n    \"gift_shipment\": false\n  }\n}\n```\n\n## Status Management\n1. Monitor tracking updates\n2. Handle exceptions promptly\n3. Notify customers proactively\n4. Coordinate redelivery\n5. Process damage claims\n6. Update order status\n7. Calculate delays\n8. Manage expectations\n\n## Exception Handling\n- Failed delivery attempts\n- Address corrections\n- Weather delays\n- Damaged in transit\n- Lost packages\n- Customs holds",
        "height": 820,
        "width": 520
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -200,
        600
      ],
      "typeVersion": 1,
      "id": "trigger-4-note",
      "name": "Trigger: Shipping Updates"
    },
    {
      "parameters": {
        "content": "# Pictorem API Integration\n\n## Available Operations\n\n### Orders\n- `create_order`: Submit new print order\n- `get_order_status`: Check production status\n- `cancel_order`: Cancel before printing\n- `get_order_history`: List past orders\n- `reorder`: Duplicate previous order\n\n### Products\n- `get_product_options`: Available substrates\n- `get_pricing`: Current price list\n- `validate_image`: Check print readiness\n- `get_size_options`: Available dimensions\n- `calculate_shipping`: Estimate costs\n\n### Quality\n- `report_issue`: Submit quality complaint\n- `request_reprint`: Initiate replacement\n- `get_quality_metrics`: Performance data\n- `submit_feedback`: Customer satisfaction\n\n### Shipping\n- `get_tracking`: Real-time status\n- `get_carriers`: Available options\n- `calculate_delivery`: Time estimates\n- `update_address`: Modify destination\n- `add_insurance`: Extra protection\n\n## Production Workflow\n```\n1. Order Received\n   ↓\n2. File Validation\n   ↓\n3. Color Correction\n   ↓\n4. Print Queue\n   ↓\n5. Production\n   ↓\n6. Quality Check\n   ↓\n7. Packaging\n   ↓\n8. Shipping\n```\n\n## File Requirements\n- Format: JPEG, PNG, TIFF\n- Color: sRGB or Adobe RGB\n- Resolution: 300 DPI minimum\n- Size: <500MB per file\n- Compression: LZW for TIFF\n\n## Error Codes\n- `IMG_001`: Low resolution\n- `IMG_002`: Wrong color space\n- `ORD_001`: Invalid size\n- `ORD_002`: Out of stock\n- `PAY_001`: Payment failed\n\n## Webhooks\n- order.created\n- order.produced\n- order.shipped\n- order.delivered\n- order.exception",
        "height": 700,
        "width": 520
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        400,
        600
      ],
      "typeVersion": 1,
      "id": "api-integration-note",
      "name": "Pictorem API Details"
    },
    {
      "parameters": {
        "content": "# Print Specifications Reference\n\n## Canvas Prints\n\n### Standard Options\n- **Sizes**: 8x10\" to 40x60\"\n- **Depths**: 0.75\", 1.5\", 2.5\"\n- **Edges**: Gallery wrap, mirrored, black/white\n- **Coating**: Matte, satin, gloss, UV protective\n- **Frame**: None, floater frame (black/white/natural)\n\n### Quality Standards\n- Canvas weight: 400gsm\n- Archival inks: 100+ year fade resistance\n- Stretcher bars: Kiln-dried pine\n- Corner braces: Included for 24\"+\n\n## Metal Prints\n\n### Aluminum Specifications\n- **Thickness**: 0.045\" aluminum\n- **Coating**: ChromaLuxe sublimation\n- **Finish**: High gloss, semi-gloss, matte\n- **Mounting**: Float mount, inset frame\n- **Corners**: Square or rounded\n\n### Durability\n- Scratch resistant surface\n- Waterproof/weatherproof\n- UV resistant\n- Easy cleaning\n- Indoor/outdoor use\n\n## Acrylic Prints\n\n### Premium Options\n- **Thickness**: 1/8\", 1/4\", 3/8\"\n- **Mounting**: Face mount, reverse mount\n- **Edges**: Polished, beveled\n- **Hardware**: Standoff posts, French cleat\n- **Protection**: UV coating standard\n\n### Visual Impact\n- Enhanced color vibrancy\n- Depth and dimension\n- Gallery presence\n- Modern aesthetic\n- Light interaction\n\n## Packaging Standards\n\n### Protection Levels\n1. **Canvas**: Corner protectors, bubble wrap, corrugated box\n2. **Metal**: Foam corners, protective film, double-box\n3. **Acrylic**: Custom crate, foam padding, fragile labels\n\n### Branding Options\n- White label standard\n- Custom branded tape\n- Branded tissue paper\n- Thank you cards\n- Care instructions",
        "height": 700,
        "width": 520
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1000,
        600
      ],
      "typeVersion": 1,
      "id": "print-specs-note",
      "name": "Print Specifications"
    }
  ],
  "connections": {
    "Pictorem MCP Client - List Tool": {
      "ai_tool": [
        [
          {
            "node": "Pictorem Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Pictorem MCP Client - Execute Tool": {
      "ai_tool": [
        [
          {
            "node": "Pictorem Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Pictorem Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Postgres Chat Memory": {
      "ai_memory": [
        [
          {
            "node": "Pictorem Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "Pictorem Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook Trigger": {
      "main": [
        [
          {
            "node": "Pictorem Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "pictorem-agent-v2",
  "meta": {
    "instanceId": "80621a4270e0ac393edfe0b84576ab8588a37d1db0f23bca7018517bcf39d930"
  },
  "id": "PictoremAgent456",
  "tags": []
}