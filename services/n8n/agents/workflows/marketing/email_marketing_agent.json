{
  "name": "VividWalls Email Marketing Agent",
  "nodes": [
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o"
        },
        "options": {
          "temperature": 0.7
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [-20, 100],
      "id": "em1a2b3c-4d5e-6f7g-8h9i-0j1k2l3m4n5o",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "d6OaJCsy6QryngZX",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "sessionKey": "={{ $json.chatId || $json.session_id || 'email_marketing_' + $now.toMillis() }}"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "typeVersion": 1.3,
      "position": [120, 180],
      "id": "em2b3c4d-5e6f-7g8h-9i0j-1k2l3m4n5o6p",
      "name": "Postgres Chat Memory",
      "credentials": {
        "postgres": {
          "id": "cm4WrXg1MnK2sWUm",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeTool",
        "toolName": "={{ $fromAI('tool', 'selected tool to execute') }}",
        "toolParameters": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Tool_Parameters', ``, 'json') }}"
      },
      "type": "n8n-nodes-mcp.mcpClientTool",
      "typeVersion": 1,
      "position": [400, 120],
      "id": "em3c4d5e-6f7g-8h9i-0j1k-2l3m4n5o6p7q",
      "name": "Email Marketing MCP Client - Execute Tool",
      "credentials": {
        "mcpClientApi": {
          "id": "EmailMarketingMCPClient789",
          "name": "Email Marketing MCP Client account"
        }
      }
    },
    {
      "parameters": {},
      "type": "n8n-nodes-mcp.mcpClientTool",
      "typeVersion": 1,
      "position": [260, 140],
      "id": "em4d5e6f-7g8h-9i0j-1k2l-3m4n5o6p7q8r",
      "name": "Email Marketing MCP Client - List Tools",
      "credentials": {
        "mcpClientApi": {
          "id": "EmailMarketingMCPClient789",
          "name": "Email Marketing MCP Client account"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeTool",
        "toolName": "={{ $fromAI('tool', 'selected tool to execute') }}",
        "toolParameters": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Tool_Parameters', ``, 'json') }}"
      },
      "type": "n8n-nodes-mcp.mcpClientTool",
      "typeVersion": 1,
      "position": [400, 200],
      "id": "em5e6f7g-8h9i-0j1k-2l3m-4n5o6p7q8r9s",
      "name": "SendGrid MCP Client - Execute Tool",
      "credentials": {
        "mcpClientApi": {
          "id": "SendGridMCPClient456",
          "name": "SendGrid MCP Client account"
        }
      }
    },
    {
      "parameters": {},
      "type": "n8n-nodes-mcp.mcpClientTool",
      "typeVersion": 1,
      "position": [260, 220],
      "id": "em6f7g8h-9i0j-1k2l-3m4n-5o6p7q8r9s0t",
      "name": "SendGrid MCP Client - List Tools",
      "credentials": {
        "mcpClientApi": {
          "id": "SendGridMCPClient456",
          "name": "SendGrid MCP Client account"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeTool",
        "toolName": "={{ $fromAI('tool', 'selected tool to execute') }}",
        "toolParameters": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Tool_Parameters', ``, 'json') }}"
      },
      "type": "n8n-nodes-mcp.mcpClientTool",
      "typeVersion": 1,
      "position": [400, 280],
      "id": "em7g8h9i-0j1k-2l3m-4n5o-6p7q8r9s0t1u",
      "name": "Google Drive MCP Client - Execute Tool",
      "credentials": {
        "mcpClientApi": {
          "id": "GoogleDriveMCPClient123",
          "name": "Google Drive MCP Client account"
        }
      }
    },
    {
      "parameters": {},
      "type": "n8n-nodes-mcp.mcpClientTool",
      "typeVersion": 1,
      "position": [260, 300],
      "id": "em8h9i0j-1k2l-3m4n-5o6p-7q8r9s0t1u2v",
      "name": "Google Drive MCP Client - List Tools",
      "credentials": {
        "mcpClientApi": {
          "id": "GoogleDriveMCPClient123",
          "name": "Google Drive MCP Client account"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeTool",
        "toolName": "={{ $fromAI('tool', 'selected tool to execute') }}",
        "toolParameters": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Tool_Parameters', ``, 'json') }}"
      },
      "type": "n8n-nodes-mcp.mcpClientTool",
      "typeVersion": 1,
      "position": [400, 360],
      "id": "em9i0j1k-2l3m-4n5o-6p7q-8r9s0t1u2v3w",
      "name": "SEO Research MCP Client - Execute Tool",
      "credentials": {
        "mcpClientApi": {
          "id": "SEOResearchMCPClient456",
          "name": "SEO Research MCP Client account"
        }
      }
    },
    {
      "parameters": {},
      "type": "n8n-nodes-mcp.mcpClientTool",
      "typeVersion": 1,
      "position": [260, 380],
      "id": "em0j1k2l-3m4n-5o6p-7q8r-9s0t1u2v3w4x",
      "name": "SEO Research MCP Client - List Tools",
      "credentials": {
        "mcpClientApi": {
          "id": "SEOResearchMCPClient456",
          "name": "SEO Research MCP Client account"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeTool",
        "toolName": "={{ $fromAI('tool', 'selected tool to execute') }}",
        "toolParameters": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Tool_Parameters', ``, 'json') }}"
      },
      "type": "n8n-nodes-mcp.mcpClientTool",
      "typeVersion": 1,
      "position": [400, 440],
      "id": "em1k2l3m-4n5o-6p7q-8r9s-0t1u2v3w4x5y",
      "name": "Shopify MCP Client - Execute Tool",
      "credentials": {
        "mcpClientApi": {
          "id": "ShopifyMCPClient123",
          "name": "Shopify MCP Client account"
        }
      }
    },
    {
      "parameters": {},
      "type": "n8n-nodes-mcp.mcpClientTool",
      "typeVersion": 1,
      "position": [260, 460],
      "id": "em2l3m4n-5o6p-7q8r-9s0t-1u2v3w4x5y6z",
      "name": "Shopify MCP Client - List Tools",
      "credentials": {
        "mcpClientApi": {
          "id": "ShopifyMCPClient123",
          "name": "Shopify MCP Client account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [-400, 100],
      "id": "em3m4n5o-6p7q-8r9s-0t1u-2v3w4x5y6z7a",
      "name": "When chat message received",
      "webhookId": "email-marketing-chat-trigger"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.2,
      "position": [820, 100],
      "id": "em4n5o6p-7q8r-9s0t-1u2v-3w4x5y6z7a8b",
      "name": "Respond to Webhook"
    },
    {
      "parameters": {
        "workflowInputs": {
          "values": [
            {
              "name": "campaign_type"
            },
            {
              "name": "email_subject"
            },
            {
              "name": "content_request",
              "type": "json"
            },
            {
              "name": "target_audience",
              "type": "json"
            },
            {
              "name": "send_immediately",
              "type": "boolean"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [-400, -100],
      "id": "em5o6p7q-8r9s-0t1u-2v3w-4x5y6z7a8b9c",
      "name": "When Executed by Another Workflow"
    },
    {
      "parameters": {
        "options": {
          "responseMessage": "=## Email Marketing Agent\\n\\n### Status: {{ $json.status }}\\n\\n{{ $json.response }}\\n\\n#### Campaign Details:\\n- Campaign ID: {{ $json.campaign_id }}\\n- Email ID: {{ $json.email_id }}\\n- Recipients: {{ $json.recipient_count }}\\n- Scheduled: {{ $json.scheduled_time || 'Sent immediately' }}\\n\\n{{ $json.additional_info || '' }}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [380, 100],
      "id": "em6p7q8r-9s0t-1u2v-3w4x-5y6z7a8b9c0d",
      "name": "Email Marketing Agent"
    },
    {
      "parameters": {
        "path": "email-marketing-webhook",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [-400, 300],
      "id": "em7q8r9s-0t1u-2v3w-4x5y-6z7a8b9c0d1e",
      "name": "Email Marketing Webhook",
      "webhookId": "email-marketing-webhook"
    },
    {
      "parameters": {
        "systemPromptTemplate": "# VividWalls Email Marketing Agent\\n\\nYou are the Email Marketing Agent for VividWalls, responsible for managing all email marketing campaigns, newsletter content creation, and email communications. You combine strategic campaign management with creative content writing.\\n\\n## Core Responsibilities\\n\\n### Campaign Management\\n- Create and manage email campaigns using Listmonk MCP\\n- Handle transactional emails through SendGrid MCP  \\n- Segment audiences based on behavior and preferences\\n- Schedule campaigns for optimal engagement\\n- Track performance metrics and optimize\\n\\n### Content Creation\\n- Write compelling newsletter content with SEO optimization\\n- Create product stories that connect emotionally\\n- Develop welcome series for new subscribers\\n- Craft promotional content for sales and launches\\n- Personalize content for different segments\\n\\n## Available MCP Tools\\n\\n### Email Marketing MCP (Listmonk)\\n- create_campaign: Create email campaigns\\n- create_template: Design email templates\\n- manage_lists: Manage subscriber lists\\n- get_analytics: Track campaign performance\\n- schedule_campaign: Schedule email sends\\n\\n### SendGrid MCP\\n- send_email: Send transactional emails\\n- create_contact: Add new contacts\\n- create_list: Create contact lists\\n- get_stats: Get email statistics\\n\\n### Google Drive MCP\\n- create_document: Create content drafts\\n- share_document: Collaborate on content\\n- export_document: Export final content\\n\\n### SEO Research MCP\\n- keyword_research: Find email-worthy keywords\\n- trend_analysis: Identify trending topics\\n- competitor_analysis: Analyze competitor emails\\n\\n### Shopify MCP\\n- get_products: Access product information\\n- get_customers: Retrieve customer data\\n- get_orders: Check order history\\n\\n## Email Types\\n\\n### Welcome Series\\n1. Brand introduction (immediate)\\n2. Style discovery (day 3)\\n3. Community invitation (day 7)\\n\\n### Regular Campaigns\\n- Weekly newsletters\\n- Product launches\\n- Seasonal promotions\\n- Art trend insights\\n- Customer spotlights\\n\\n## Content Strategy\\n\\n### Writing Guidelines\\n- Conversational yet professional tone\\n- Focus on art's emotional impact\\n- Include personal stories\\n- Natural keyword integration\\n- Clear calls-to-action\\n\\n### Segmentation Strategy\\n- New subscribers\\n- Active buyers\\n- Browse abandoners\\n- VIP customers\\n- Style preferences\\n\\n## Performance Metrics\\n- Open rates (target: 25%+)\\n- Click rates (target: 3%+)\\n- Conversion rates\\n- List growth rate\\n- Unsubscribe rate\\n\\n## Integration Points\\n- Marketing Director: Campaign alignment\\n- Content agents: Asset creation\\n- Sales Agent: Promotion coordination\\n- Analytics: Performance tracking\\n\\nWhen creating campaigns:\\n1. Understand the objective and audience\\n2. Research relevant keywords and trends\\n3. Create compelling subject lines\\n4. Write engaging, personalized content\\n5. Design with mobile-first approach\\n6. Test before sending\\n7. Monitor and optimize performance\\n\\nAlways maintain brand voice while adapting to audience segments."
      },
      "type": "@n8n/n8n-nodes-langchain.systemMessage",
      "typeVersion": 1.1,
      "position": [180, 20],
      "id": "em8r9s0t-1u2v-3w4x-5y6z-7a8b9c0d1e2f",
      "name": "System Message"
    },
    {
      "parameters": {
        "toolDescription": "=Retrieve product stories and emotional connections from the knowledge base",
        "mode": "retrieve-as-tool",
        "toolName": "product_storytelling_kb",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePGVector",
      "typeVersion": 1.1,
      "position": [640, 540],
      "id": "em9s0t1u-2v3w-4x5y-6z7a-8b9c0d1e2f3g",
      "name": "Product Storytelling KB",
      "credentials": {
        "postgres": {
          "id": "cm4WrXg1MnK2sWUm",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [800, 620],
      "id": "em0t1u2v-3w4x-5y6z-7a8b-9c0d1e2f3g4h",
      "name": "Embeddings OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "d6OaJCsy6QryngZX",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "content": "## ðŸŽ¯ EMAIL MARKETING AGENT\\n### Campaign Creation & Management\\n\\n**Primary Function:**\\n- Creates email campaigns via Listmonk\\n- Manages transactional emails with SendGrid\\n- Writes compelling newsletter content\\n- Segments audiences strategically\\n\\n**Campaign Types:**\\n- Welcome series (3-part)\\n- Weekly newsletters\\n- Product launches\\n- Seasonal promotions",
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [-520, -20],
      "id": "em-sticky-overview"
    },
    {
      "parameters": {
        "content": "## ðŸ”§ MCP TOOL INTEGRATIONS\\n\\n**Email Marketing MCP (Listmonk):**\\n- create_campaign\\n- create_template\\n- manage_lists\\n- get_analytics\\n- schedule_campaign\\n\\n**SendGrid MCP:**\\n- send_email (transactional)\\n- create_contact\\n- create_list\\n- get_stats",
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [540, 40],
      "id": "em-sticky-tools"
    },
    {
      "parameters": {
        "content": "## ðŸ“Š PERFORMANCE METRICS\\n\\n**Target Goals:**\\n- Open rate: 25%+\\n- Click rate: 3%+\\n- List growth: 10%/month\\n- Unsubscribe: <0.5%\\n\\n**Tracking:**\\n- Campaign performance\\n- A/B test results\\n- Segment engagement\\n- Revenue attribution",
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [960, 20],
      "id": "em-sticky-metrics"
    },
    {
      "parameters": {
        "content": "## âœï¸ CONTENT STRATEGY\\n\\n**Writing Guidelines:**\\n- Conversational tone\\n- Emotional storytelling\\n- Personal connections\\n- Natural SEO integration\\n\\n**Segmentation:**\\n- New subscribers\\n- Active buyers\\n- Browse abandoners\\n- VIP customers\\n- Style preferences",
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [-520, 420],
      "id": "em-sticky-content"
    },
    {
      "parameters": {
        "content": "## ðŸ”„ WORKFLOW TRIGGERS\\n\\n**Chat Interface:**\\n- Manual campaign requests\\n- Content creation needs\\n- Performance queries\\n\\n**Workflow Execution:**\\n- Automated campaigns\\n- Scheduled sends\\n- Trigger-based emails\\n\\n**Webhook:**\\n- External integrations\\n- Event-based sends",
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [-740, 180],
      "id": "em-sticky-triggers"
    },
    {
      "parameters": {
        "content": "## ðŸŽ¨ VIVIDWALLS BRAND\\n\\n**Email Voice:**\\n- Art-focused storytelling\\n- Premium but approachable\\n- Community-driven\\n- Inspirational\\n\\n**Visual Style:**\\n- Clean, gallery-inspired\\n- Mobile-first design\\n- High-quality imagery\\n- Consistent branding",
        "color": 1
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [960, 400],
      "id": "em-sticky-brand"
    },
    {
      "parameters": {
        "content": "## ðŸ¤ AGENT COLLABORATION\\n\\n**Works With:**\\n- Marketing Director (campaigns)\\n- Content Writer (copy)\\n- Social Media (cross-promotion)\\n- Sales Agent (promotions)\\n\\n**Data Sharing:**\\n- Campaign performance\\n- Customer segments\\n- Content assets\\n- Email templates",
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [540, 680],
      "id": "em-sticky-collaboration"
    },
    {
      "parameters": {
        "content": "## ðŸ“š KNOWLEDGE BASE\\n\\n**Product Storytelling KB:**\\n- Art piece narratives\\n- Artist backgrounds\\n- Customer testimonials\\n- Style guides\\n\\n**Uses embeddings for:**\\n- Semantic search\\n- Content matching\\n- Personalization",
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [960, 580],
      "id": "em-sticky-knowledge"
    }
  ],
  "connections": {
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Email Marketing Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Postgres Chat Memory": {
      "ai_memory": [
        [
          {
            "node": "Email Marketing Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Email Marketing MCP Client - Execute Tool": {
      "ai_tool": [
        [
          {
            "node": "Email Marketing Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Email Marketing MCP Client - List Tools": {
      "ai_tool": [
        [
          {
            "node": "Email Marketing Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "SendGrid MCP Client - Execute Tool": {
      "ai_tool": [
        [
          {
            "node": "Email Marketing Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "SendGrid MCP Client - List Tools": {
      "ai_tool": [
        [
          {
            "node": "Email Marketing Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Google Drive MCP Client - Execute Tool": {
      "ai_tool": [
        [
          {
            "node": "Email Marketing Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Google Drive MCP Client - List Tools": {
      "ai_tool": [
        [
          {
            "node": "Email Marketing Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "SEO Research MCP Client - Execute Tool": {
      "ai_tool": [
        [
          {
            "node": "Email Marketing Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "SEO Research MCP Client - List Tools": {
      "ai_tool": [
        [
          {
            "node": "Email Marketing Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Shopify MCP Client - Execute Tool": {
      "ai_tool": [
        [
          {
            "node": "Email Marketing Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Shopify MCP Client - List Tools": {
      "ai_tool": [
        [
          {
            "node": "Email Marketing Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "Email Marketing Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "Email Marketing Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Email Marketing Agent": {
      "main": [
        [
          {
            "node": "Respond to Webhook",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Email Marketing Webhook": {
      "main": [
        [
          {
            "node": "Email Marketing Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "System Message": {
      "ai_prompt": [
        [
          {
            "node": "Email Marketing Agent",
            "type": "ai_prompt",
            "index": 0
          }
        ]
      ]
    },
    "Product Storytelling KB": {
      "ai_tool": [
        [
          {
            "node": "Email Marketing Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Product Storytelling KB",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {},
  "meta": {
    "instanceId": "8d886cbbbe7cfda2db691b67a2dadcc8c19353a4c691d51c622e4656cfd22240"
  }
}